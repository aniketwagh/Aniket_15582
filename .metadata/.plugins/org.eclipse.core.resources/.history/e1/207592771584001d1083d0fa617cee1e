package com.Ecom;

import java.sql.SQLException;
import java.util.List;

import com.Ecom.Dao.ProductDao;
import com.Ecom.controller.ProductController;
import com.Ecom.model.ProductDetails;


public class Product {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		try {
			final ProductController productController = ProductController.getProductController();
			System.out.println("1. Display all Products");
			System.out.println("2. Details Products");
			System.out.println("3. Delete Products");
			System.out.println("4. Update Products");
			int choice =1;
			System.out.println("1. Display all products");
			mainOptions(productController,choice);
			
			System.out.println("2. details products");
			choice=2;
			mainOptions(productController,choice);
			
			System.out.println("3. Delete products");
			choice=3;
			mainOptions(productController,choice);
			
			System.out.println("4. update products");
			choice=4;
			mainOptions(productController,choice);
			
			choice = 1;
			System.out.println("Display all Product");
			mainOptions(productController,choice);
		}catch(Exception e) {
			e.printStackTrace();
		}

	}
	
	private static void mainOptions(final ProductController productController, int choice) throws SQLException {
		switch(choice) {
		case 1: 
				List<ProductDetails> list=productController.findAll();
				for(ProductDetails account:list) {
					System.out.println(account);
				}
				break;
		case 2: 
			final ProductDetails account=productController.findOne(1);
			System.out.println(account);
			break;
		case 3: 
			if(productController.findOneAndDelete(3)) {
				System.out.println("Acc No: 3 Records Deleted");
			}
			break;
		case 4: 
			final ProductDetails updatAccount=productController.findOne(1);
			updatAccount.setProductid(2);
			if(productController.findOneAndUpdate(3,updatAccount)) {
				System.out.println("Acc No: 3 Records Deleted");
			}
			break;	
		case 5: 
			final ProductDetails newProduct=new ProductDetails("Nokia", "Nokia 2611", 23) ;
			if(productController.createNew(newProduct)) {
				System.out.println(newProduct+ " Created in DB");
			}
			break;
		default:
			System.out.println("Please select between 1 to 5 options");
			break;
		}
	}
	
	private static void printAccounts(ProductDao dao) throws SQLException {
		final List<ProductDetails> list=dao.findAll();
		for(ProductDetails a: list) {
			System.out.println(a);
		}
	}

}
